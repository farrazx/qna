<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css" />
    <title>Farraz</title>
  </head>
  <body>
    <div class="container">
      <div data-tilt data-tilt-reverse="true" class="card">
        <div class="konten">
          <h2>:)</h2>
          <h4>Q&A</h4>
          <h3>Farraz</h3>
          <form name="qne-farraz">
            <div class="mb-3">
              <div class="alert alert-success d-none my-alert" role="alert">Haturnuhun aa/tth</div>
              <textarea id="exampleFormControlTextarea1" name="pertanyaan"></textarea>
            </div>
            <button type="submit" class="btn btn-dark btn-kirim">KIRIM</button>
            <button class="btn btn-dark btn-loading d-none" type="button" disabled>
              <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
              Loading...
            </button>
          </form>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script type="text/javascript" src="vanilla-tilt.js"></script>
    <script>
      VanillaTilt.init(document.querySelectorAll('.card'), {
        max: 25,
        speed: 400,
        glare: true,
        'max-glare': 1,
      });
    </script>
    <script>
      const scriptURL = 'https://script.google.com/macros/s/AKfycbzAxhifhLO3V2CK9BQ-jSZRWeYgNbrfeKXv4ltX3SVi6tsXDpdVA1ZfVPM_ybgciunINg/exec';
      const form = document.forms['qne-farraz'];
      const btnKirim = document.querySelector('.btn-kirim');
      const btnLoading = document.querySelector('.btn-loading');
      const myAlert = document.querySelector('.my-alert');

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        // loading, kirim
        btnLoading.classList.toggle('d-none');
        btnKirim.classList.toggle('d-none');
        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
          .then((response) => {
            // kirim, loading
            btnLoading.classList.toggle('d-none');
            btnKirim.classList.toggle('d-none');
            myAlert.classList.toggle('d-none');
            form.reset();
            console.log('Success!', response);
          })
          .catch((error) => console.error('Error!', error.message));
      });
    </script>
  </body>
</html>
